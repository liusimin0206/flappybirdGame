(function(t){function e(e){for(var n,s,o=e[0],c=e[1],u=e[2],l=0,p=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={app:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0c8b":function(t,e,i){"use strict";var n=i("83c3"),a=i.n(n);a.a},"1a25":function(t,e,i){},"30b1":function(t,e,i){},"4aeb":function(t,e,i){},"528a":function(t,e,i){"use strict";var n=i("30b1"),a=i.n(n);a.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{backgroundPositionX:t.backgroundMoveXStr},attrs:{id:"app"}},[t.isStartGame||t.isOverGame?t._e():i("StartGame",{attrs:{handleTimes:this.handleTimes},on:{StartGame:t.handleStartGame}}),t.isStartGame&&!t.isOverGame?i("PlayingGame",{attrs:{handleTimes:this.handleTimes,isStartGame:t.isStartGame,backgroundMoveSpeed:t.backgroundMoveSpeed},on:{gameOver:t.handleGameOver}}):t._e(),!t.isStartGame&&t.isOverGame?i("EndGame",{attrs:{lastScore:t.lastScore},on:{restart:t.restart}}):t._e()],1)},r=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"startGame"},[i("div",{staticClass:"title"},[i("Bird",{attrs:{isStartGame:t.isStartGame,isActive:t.isActive,isStartbirdJump:!t.isStartGame,minTopOfBird:0,maxTopOfBird:50}}),i("div",{staticClass:"startGameButton",class:[t.switchtruthiness?"white":"blue"],on:{click:t.startGame}},[t._v(" 开始游戏 ")])],1)])},o=[],c=(i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bird",style:{top:this.topOfBird2Str,backgroundPositionX:t.backgroundPositionX2Str}})}),u=[],d={data:function(){return{topOfBird:0,backgroundPositionX:0,birdStepY:0}},props:{isStartGame:Boolean,isActive:Boolean,isStartbirdJump:{type:Boolean,default:!0},isStartbirdFly:{type:Boolean,default:!0},minTopOfBird:{type:Number,default:0},maxTopOfBird:{type:Number,default:50}},methods:{startbirdJump:function(){this.topOfBird=this.topOfBird===this.maxTopOfBird?this.minTopOfBird:this.maxTopOfBird},birdfly:function(){this.backgroundPositionX<=-60?this.backgroundPositionX=0:this.backgroundPositionX-=30}},computed:{topOfBird2Str:function(){return this.topOfBird+"px"},backgroundPositionX2Str:function(){return this.backgroundPositionX+"px"}},watch:{isActive:{handler:function(t){t&&(this.isStartbirdJump&&this.startbirdJump(),this.isStartbirdFly&&this.birdfly())},immediate:!0}}},l=d,p=(i("5ce1"),i("2877")),h=Object(p["a"])(l,c,u,!1,null,"71d73c57",null),f=h.exports,m={data:function(){return{isStartGame:!1,switchtruthiness:!0}},components:{Bird:f},props:{handleTimes:Number},methods:{startGame:function(){this.isStartGame=!0,this.$emit("StartGame",!0)},startBound:function(){this.switchtruthiness=!this.switchtruthiness}},watch:{isActive:function(t){t&&this.startBound()}},computed:{topOfBirdStr:function(){return this.topOfBird+"px"},isActive:function(){return this.handleTimes%10===0}}},v=m,g=(i("f9f3"),Object(p["a"])(v,s,o,!1,null,"c3a33088",null)),b=g.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"endGame"},[i("div",{staticClass:"mask"}),i("div",{staticClass:"title"},[i("div",{staticClass:"over"},[t._v("Game over")]),i("div",{staticClass:"result"},[t._v("Your Results:")]),i("div",{staticClass:"final-score"},[t._v(t._s(t.lastScore))]),i("ul",{staticClass:"rank-list"},t._l(t.showRecord,(function(e,n){return i("li",{key:n,staticClass:"rank-item"},[i("span",{staticClass:"rank-degree",class:t.rank2str(n+1)},[t._v(t._s(n+1))]),i("span",{staticClass:"rank-score"},[t._v(t._s(e.score))]),i("span",{staticClass:"rank-time"},[t._v(t._s(e.time))])])})),0),i("div",{staticClass:"restart",on:{click:t.restart}},[t._v("重新开始")])])])},G=[],k=(i("99af"),i("fb6a"),"todos-vuejs"),y={fetch:function(){return JSON.parse(window.localStorage.getItem(k||"[]"))},save:function(t){window.localStorage.setItem(k,JSON.stringify(t))}},O={data:function(){return{gameRecording:[],rank2:["first","second","third"]}},mounted:function(){this.gameRecording=y.fetch(),null===this.gameRecording&&(this.gameRecording=[]),this.gameRecording.push(this.createAScoreRecord()),this.sortGameRecording(),this.save(this.gameRecording)},methods:{restart:function(){this.$emit("restart",!0)},getDate:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,n=t.getDate(),a=t.getHours(),r=t.getMinutes(),s=t.getSeconds();return"".concat(e,".").concat(i,".").concat(n," ").concat(a,":").concat(r,":").concat(s)},save:function(t){y.save(t)},createAScoreRecord:function(){return{score:this.lastScore,time:this.getDate()}},sortGameRecording:function(){this.gameRecording.sort((function(t,e){return e.score-t.score}))},rank2str:function(t){return t>3||t<0?"":this.rank2[t-1]}},props:{lastScore:{type:Number}},computed:{showRecord:function(){return this.gameRecording.slice(0,8)}}},P=O,_=(i("528a"),Object(p["a"])(P,S,G,!1,null,"56bb6e9d",null)),x=_.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"playingGame",on:{click:t.handleGameClick}},[i("div",{staticClass:"score"},[t._v(t._s(t.score))]),i("div",{staticClass:"location"},[t._l(t.pipeData,(function(e,n){return i("div",{key:n,staticClass:"pipe"},[i("div",{staticClass:"pipeUp",style:{top:t.addPx(e.upY),left:t.addPx(e.left)}}),i("div",{staticClass:"pipeDown",style:{top:t.addPx(e.downY),left:t.addPx(e.left)}})])})),i("div",{staticClass:"locateY",style:{top:t.locateY2Str}},[i("Bird",{attrs:{isStartGame:t.isStartGame,isActive:t.isActive,isStartbirdJump:!1}})],1)],2)])},w=[],B={data:function(){return{locateY:0,dropStepY:0,bodyHeight:1e3,pipeYDistance:150,pipeData:[],pipeLength:10,score:0,currentPipeIndex:0,isClick:!1}},components:{Bird:f},methods:{handleGameClick:function(){this.isClick||(this.isClick=!0),this.dropStepY=-10},dropLocateY:function(){this.locateY+=++this.dropStepY},judgeKnock:function(){this.judgeBoundary(),this.judgePipe()},judgeBoundary:function(){(this.locateY<=this.minTop||this.locateY>=this.maxTop)&&this.failGame()},judgeSinglePipe:function(t){t.left<=15&&t.left>=-67&&(this.locateY>=t.upY+852&&this.locateY+30<=t.downY||this.failGame())},judgePipe:function(){this.judgeSinglePipe(this.pipeData[this.currentPipeIndex])},isPassCurrentPipe:function(){return this.pipeData[this.currentPipeIndex].left<-67},failGame:function(){this.$emit("gameOver",!1,this.score)},createPipe:function(t){var e=Math.floor(Math.random()*(this.maxTop-70))+20,i=e-this.pipeYDistance-850;return{upY:i,downY:e,left:t}},pipeMove:function(){for(var t=0;t<this.pipeLength;t++)this.pipeData[t].left-=this.backgroundMoveSpeed},addPx:function(t){return t+"px"},addDeletePipe:function(){var t=this.pipeData.shift();this.pipeData.push(this.createPipe(t.left+300*this.pipeLength))}},props:{isStartGame:Boolean,handleTimes:Number,appClick:Boolean,backgroundMoveSpeed:{type:Number,default:5}},mounted:function(){this.bodyHeight=document.body.scrollHeight;for(var t=0;t<this.pipeLength;t++)this.pipeData.push(this.createPipe(300*(t+1)))},computed:{isActive:function(){return this.handleTimes%10===0},locateY2Str:function(){return this.locateY+"px"},minTop:function(){return-(this.bodyHeight/2-10)},maxTop:function(){return this.bodyHeight/2+10}},watch:{handleTimes:function(){this.isClick&&(this.pipeMove(),this.dropLocateY(),this.pipeData[0].left<=-1e3&&(this.addDeletePipe(),this.currentPipeIndex--),this.judgeKnock(),this.isPassCurrentPipe()&&(this.score++,this.currentPipeIndex++))}}},T=B,Y=(i("0c8b"),Object(p["a"])(T,C,w,!1,null,"ffc1028e",null)),j=Y.exports,M={name:"App",components:{StartGame:b,EndGame:x,PlayingGame:j},data:function(){return{backgroundMoveSpeed:2,backgroundMoveX:0,handleTimes:0,isStartGame:!1,timer:0,isOverGame:!1,lastScore:-1}},created:function(){this.init()},computed:{backgroundMoveXStr:function(){return this.backgroundMoveX+"px"}},methods:{init:function(){var t=this;this.handleTimes=0,this.timer=setInterval((function(){t.handleTimes++,t.backgroundMoveX-=t.backgroundMoveSpeed}),30)},handleStartGame:function(t){this.isStartGame=t,this.backgroundMoveSpeed=5},handleGameOver:function(t,e){this.isOverGame=!t,this.isStartGame=t,this.lastScore=e,clearInterval(this.timer)},restart:function(){this.init(),this.isStartGame=!0,this.isOverGame=!1}}},D=M,R=(i("5c0b"),Object(p["a"])(D,a,r,!1,null,null,null)),X=R.exports;i("7371"),i("1a25");n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(X)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var n=i("9c0c"),a=i.n(n);a.a},"5ce1":function(t,e,i){"use strict";var n=i("4aeb"),a=i.n(n);a.a},7371:function(t,e,i){},"83c3":function(t,e,i){},"9c0c":function(t,e,i){},ae54:function(t,e,i){},f9f3:function(t,e,i){"use strict";var n=i("ae54"),a=i.n(n);a.a}});
//# sourceMappingURL=app.83a0e273.js.map