{"version":3,"sources":["webpack:///./src/components/Bird.vue?e708","webpack:///src/components/Bird.vue","webpack:///./src/components/Bird.vue?3d1f","webpack:///./src/components/Bird.vue","webpack:///./src/components/PlayingGame.vue?6eb9","webpack:///./src/components/Bird.vue?b724","webpack:///./src/components/PlayingGame.vue?3d5e","webpack:///src/components/PlayingGame.vue","webpack:///./src/components/PlayingGame.vue?6b2b","webpack:///./src/components/PlayingGame.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","backgroundPositionX","num2strAddPx","staticRenderFns","data","props","methods","flapWings","component","on","handleGameClick","_v","_s","score","_l","pipe","i","key","top","upY","left","downY","ref","class","nojump","topOfBird","maxTopOfBird","minTopOfBird","dropStepY","bodyHeight","pipeYDistance","pipeData","pipeLength","currentPipeIndex","isClick","pipeWidth","speedX","components","droptopOfBird","judgeKnock","judgeBoundary","judgePipe","minTop","maxTop","failGame","judgeSinglePipe","isPassCurrentPipe","$emit","createPipe","pipeMove","addDeletePipe","push","isStartGame","mounted","document","body","scrollHeight","computed","time30","$store","state","counter","watch","$parent","moveBackground","val","$refs","Bird"],"mappings":"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","file":"js/chunk-4091a40e.8a45f4fa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bird\",style:({\n    backgroundPositionX: _vm.num2strAddPx(this.backgroundPositionX)\n  })})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"bird\"\r\n    :style=\"{\r\n      backgroundPositionX: num2strAddPx(this.backgroundPositionX)\r\n    }\"\r\n  ></div>\r\n</template>\r\n\r\n<script>\r\nimport { num2strAddPx } from \"../tools\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      backgroundPositionX: 0\r\n    };\r\n  },\r\n  props: {},\r\n  methods: {\r\n    flapWings() {\r\n      if (this.backgroundPositionX <= -60) {\r\n        this.backgroundPositionX = 0;\r\n      } else this.backgroundPositionX -= 30;\r\n    },\r\n    num2strAddPx\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.bird {\r\n  width: 30px;\r\n  height: 30px;\r\n  background-image: url(\"../assets/img/birds.png\");\r\n  transition: top 0.3s linear;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bird.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bird.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bird.vue?vue&type=template&id=a2c2c5fc&scoped=true&\"\nimport script from \"./Bird.vue?vue&type=script&lang=js&\"\nexport * from \"./Bird.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Bird.vue?vue&type=style&index=0&id=a2c2c5fc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2c2c5fc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayingGame.vue?vue&type=style&index=0&id=63b9831f&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayingGame.vue?vue&type=style&index=0&id=63b9831f&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bird.vue?vue&type=style&index=0&id=a2c2c5fc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bird.vue?vue&type=style&index=0&id=a2c2c5fc&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playingGame\",on:{\"click\":_vm.handleGameClick}},[_c('div',{staticClass:\"score\"},[_vm._v(_vm._s(_vm.score))]),_c('div',{staticClass:\"location\"},[_vm._l((_vm.pipeData),function(pipe,i){return _c('div',{key:i,staticClass:\"pipe\"},[_c('div',{staticClass:\"pipeUp\",style:({\n          top: _vm.num2strAddPx(pipe.upY),\n          left: _vm.num2strAddPx(pipe.left)\n        })}),_c('div',{staticClass:\"pipeDown\",style:({\n          top: _vm.num2strAddPx(pipe.downY),\n          left: _vm.num2strAddPx(pipe.left)\n        })})])}),_c('Bird',{ref:\"Bird\",class:{ nojump: true },style:({\n        top: _vm.num2strAddPx(this.topOfBird)\n      })})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"playingGame\" @click=\"handleGameClick\">\r\n    <div class=\"score\">{{ score }}</div>\r\n    <div class=\"location\">\r\n      <div v-for=\"(pipe, i) in pipeData\" class=\"pipe\" :key=\"i\">\r\n        <div\r\n          class=\"pipeUp\"\r\n          :style=\"{\r\n            top: num2strAddPx(pipe.upY),\r\n            left: num2strAddPx(pipe.left)\r\n          }\"\r\n        ></div>\r\n        <div\r\n          class=\"pipeDown\"\r\n          :style=\"{\r\n            top: num2strAddPx(pipe.downY),\r\n            left: num2strAddPx(pipe.left)\r\n          }\"\r\n        ></div>\r\n      </div>\r\n      <Bird\r\n        ref=\"Bird\"\r\n        :class=\"{ nojump: true }\"\r\n        :style=\"{\r\n          top: num2strAddPx(this.topOfBird)\r\n        }\"\r\n      ></Bird>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Bird from \"./Bird\";\r\nimport { num2strAddPx } from \"../tools\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      topOfBird: 0,\r\n      maxTopOfBird: 50,\r\n      minTopOfBird: 0,\r\n      dropStepY: 0,\r\n      bodyHeight: 1000,\r\n      pipeYDistance: 150,\r\n      pipeData: [],\r\n      pipeLength: 10,\r\n      score: 0,\r\n      currentPipeIndex: 0,\r\n      isClick: false,\r\n      pipeWidth: 52,\r\n      speedX: 5\r\n    };\r\n  },\r\n  components: { Bird },\r\n  methods: {\r\n    handleGameClick() {\r\n      if (!this.isClick) this.isClick = true;\r\n      this.dropStepY = -10;\r\n    },\r\n    // 匀加速下落\r\n    droptopOfBird() {\r\n      this.topOfBird += ++this.dropStepY;\r\n    },\r\n    judgeKnock() {\r\n      this.judgeBoundary();\r\n      this.judgePipe();\r\n    },\r\n    // 检测是否超出上下界限\r\n    judgeBoundary() {\r\n      if (this.topOfBird <= this.minTop || this.topOfBird >= this.maxTop) {\r\n        this.failGame();\r\n      }\r\n    },\r\n    // 检测是否撞上单对柱子\r\n    judgeSinglePipe(pipe) {\r\n      if (pipe.left <= 30 && pipe.left >= -this.pipeWidth) {\r\n        if (\r\n          !(\r\n            this.topOfBird >= pipe.upY + 852 &&\r\n            this.topOfBird + 30 <= pipe.downY\r\n          )\r\n        ) {\r\n          this.failGame();\r\n        }\r\n      }\r\n    },\r\n    judgePipe() {\r\n      this.judgeSinglePipe(this.pipeData[this.currentPipeIndex]);\r\n    },\r\n    isPassCurrentPipe() {\r\n      return this.pipeData[this.currentPipeIndex].left < -67;\r\n    },\r\n    failGame() {\r\n      //   console.log(\"game over\");\r\n      this.$emit(\"gameOver\", false, this.score);\r\n    },\r\n    createPipe(X) {\r\n      let downY = Math.floor(Math.random() * (this.maxTop - 70)) + 20;\r\n      let upY = downY - this.pipeYDistance - 850;\r\n      return { upY, downY, left: X };\r\n    },\r\n    pipeMove() {\r\n      for (var i = 0; i < this.pipeLength; i++) {\r\n        this.pipeData[i].left -= this.speedX;\r\n      }\r\n    },\r\n    num2strAddPx,\r\n    addDeletePipe() {\r\n      //   移除第一根柱子;\r\n      let firstPipe = this.pipeData.shift();\r\n      //   添加最后一根柱子\r\n      this.pipeData.push(\r\n        this.createPipe(firstPipe.left + 300 * this.pipeLength)\r\n      );\r\n    }\r\n  },\r\n  props: {\r\n    isStartGame: { type: Boolean, default: true }\r\n  },\r\n  mounted() {\r\n    this.bodyHeight = document.body.scrollHeight;\r\n    for (let i = 0; i < this.pipeLength; i++) {\r\n      this.pipeData.push(this.createPipe(300 * (i + 1)));\r\n    }\r\n  },\r\n  computed: {\r\n    minTop() {\r\n      return -(this.bodyHeight / 2 - 10);\r\n    },\r\n    maxTop() {\r\n      return this.bodyHeight / 2 + 10;\r\n    },\r\n    time30: function() {\r\n      return this.$store.state.counter;\r\n    }\r\n  },\r\n  watch: {\r\n    time30(val) {\r\n      this.$parent.moveBackground(this.speedX);\r\n      if (this.isClick) {\r\n        this.pipeMove();\r\n        this.droptopOfBird();\r\n        if (this.pipeData[0].left <= -1000) {\r\n          this.addDeletePipe();\r\n          this.currentPipeIndex--;\r\n        }\r\n        this.judgeKnock();\r\n        if (this.isPassCurrentPipe()) {\r\n          this.score++;\r\n          this.currentPipeIndex++;\r\n        }\r\n      }\r\n      if (val % 10 == 0) {\r\n        this.$refs.Bird.flapWings();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.playingGame {\r\n  height: 100%;\r\n  .score {\r\n    z-index: 1;\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    font-size: 20px;\r\n    font-weight: bolder;\r\n    color: #fff;\r\n    user-select: none;\r\n  }\r\n  .location {\r\n    position: absolute;\r\n    width: 30px;\r\n    height: 30px;\r\n    left: 25%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    .pipeUp {\r\n      position: absolute;\r\n      width: 52px;\r\n      height: 852px;\r\n      background-image: url(\"../assets/img/pipe2.png\");\r\n    }\r\n    .pipeDown {\r\n      position: absolute;\r\n      width: 52px;\r\n      height: 852px;\r\n      background-image: url(\"../assets/img/pipe1.png\");\r\n    }\r\n    .bird {\r\n      position: absolute;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n    }\r\n    .bird.nojump {\r\n      transition: all 0s ease 0s;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayingGame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayingGame.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayingGame.vue?vue&type=template&id=63b9831f&scoped=true&\"\nimport script from \"./PlayingGame.vue?vue&type=script&lang=js&\"\nexport * from \"./PlayingGame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlayingGame.vue?vue&type=style&index=0&id=63b9831f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63b9831f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}